{"remainingRequest":"E:\\uni_app\\ppmovie\\node_modules\\babel-loader\\lib\\index.js!E:\\uni_app\\ppmovie\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\uni_app\\ppmovie\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\uni_app\\ppmovie\\src\\views\\Player.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\uni_app\\ppmovie\\src\\views\\Player.vue","mtime":1662348347886},{"path":"E:\\uni_app\\ppmovie\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661925503151},{"path":"E:\\uni_app\\ppmovie\\node_modules\\babel-loader\\lib\\index.js","mtime":1661925517134},{"path":"E:\\uni_app\\ppmovie\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661925503151},{"path":"E:\\uni_app\\ppmovie\\node_modules\\vue-loader\\lib\\index.js","mtime":1661925514444}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nrequire('video.js/dist/video-js.css');\n\nimport global from '@/global';\nimport axios from \"axios\";\nimport videojs from \"video.js\";\nimport \"videojs-contrib-hls\";\nimport lunbo_movie from '@/views/lunbo_movie.vue';\nimport 'xgplayer';\nimport hlsjsPlayer from 'xgplayer-hls.js'; // import '/xgplayer/src/skin/index.js';\n\nexport default {\n  beforeCreate: function beforeCreate() {\n    console.log(this.$route.params.vod_id);\n  },\n  components: {\n    mv: lunbo_movie\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var vod_id = this.$route.params.vod_id;\n    var flag = this.$route.params.index;\n    this.tag = this.$route.params.index;\n    console.log(this.tag); // var url = this.$route.params.url\n    // this.moviename=this.$route.params.movie_name\n    // console.log( typeof(this.$route.params.url) )\n\n    axios({\n      //url: `https://m.maizuo.com/gateway?filmId=${this.$route.params.id}&k=5501344`,\n      //url:'http://localhost:3000/get_url',\n      url: global.base_url + 'get_url',\n      params: {\n        vod_id: vod_id\n      }\n    }).then(function (res) {\n      console.log(res.data);\n      _this.moviename = res.data.move_name;\n      _this.datalist = res.data.url;\n      _this.url = res.data.url[flag];\n\n      if (_this.play == null) {\n        _this.getVideo();\n      }\n    });\n  },\n  name: 'Player',\n  data: function data() {\n    return {\n      speed: 1,\n      //url:'https://v6.dious.cc/20220428/AvHwnFK7/index.m3u8',\n      //url:'https://m3.taopianplay1.com:43333/taopian/54fdb532-e89b-4567-bc07-aa93a0c6a79b/a891bf2e-a823-4ae0-ac07-107cdf1703d8/75490/2c7dc32b-6cc4-4bca-8ce7-80eb077ef6e3/SD/playlist.m3u8',\n      //url:'https://v7.dious.cc/20220816/IShATbpk/index.m3u8',\n      //url:' https://playtv-live.ifeng.com/live/06OLEGEGM4G.m3u8',\n      //url:'https://s5.fsvod1.com/20220428/kfhEcrR1/index.m3u8',\n      url: '',\n      player: null,\n      datalist: null,\n      moviename: \"\",\n      tag: ''\n    };\n  },\n  props: {\n    msg: String\n  },\n  methods: {\n    getVideo: function getVideo() {\n      var that = this;\n      this.player = new hlsjsPlayer({\n        id: 'mse',\n        url: that.url,\n        width: \"790px\",\n        height: \"460px\",\n        videoInit: true,\n        playsinline: true,\n        playbackRate: [0.5, 1, 1.5, 2, 3] //传入倍速可选数组\n\n      });\n    },\n    // \t\tgetVideo() {\n    // \t\t\tvar that = this\n    // \t\t   this.player=videojs(\n    // \t\t\t   \"my-video\",\n    // \t\t\t   {\n    // \t\t\t\t   hls: true,\n    // \t\t\t\t   aspectRatio: '16:9', // 将播放器置于流畅模式，并在计算播放器的动态大小时使用该值。值应该代表一个比例 - 用冒号分隔的两个数字（例如\"16:9\"或\"4:3\"）\n    // \t\t\t\t   fluid: true, \n    // \t\t\t\t   preload: 'auto',\n    // \t\t\t\t   bigPlayButton: true,\n    // \t\t\t\t   textTrackDisplay: false,\n    // \t\t\t\t   posterImage: true,\n    // \t\t\t\t   errorDisplay: false,\n    // \t\t\t\t   language: 'zh-CN',\n    // \t\t\t\t   notSupportedMessage: '此视频暂无法播放，请稍后再试',\n    // \t\t\t\t   controlBar:true,\n    // \t\t\t\t   sources:[ // 视频源\n    // \t\t\t\t         {\n    // \t\t\t\t             src: that.url,\n    // \t\t\t\t         }\n    // \t\t\t\t     ]\n    // \t\t\t   },\n    // \t\t   );\n    // \t\t\t},\n    select: function select(index) {\n      console.log(index); // this.player.src({src:this.datalist[index] , type: \"application/x-mpegURL\"});\n\n      this.player.src = this.datalist[index];\n      this.player.play();\n      this.tag = index;\n    } // start(){\n    // \tthis.player.play()\n    // },\n\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this.player != null) {\n      // this.player.dispose() // dispose()会直接删除Dom元素\n      this.player.destroy();\n    }\n  }\n};",{"version":3,"sources":["Player.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div style=\"display: flex;flex-direction: column;\" >\r\n\t<div id=\"player_container\">\r\n\t\t<div id=\"player\">\r\n\t\t\t<div id=\"mse\"></div>\r\n<!-- \t\t\t<video\r\n\t\t\t    id=\"my-video\" \r\n\t\t\t    controls\r\n\t\t\t\tclass=\"video-js vjs-big-play-centered\"\r\n\t\t\t\twidth=\"790px\"\r\n\t\t\t\theight=\"460px\"\r\n\t\t\t\tposter=\"../assets/poster2.png\"\r\n\t\t\t\tautoplay: false\r\n\t\t\t\t\t>\r\n\t\t\t</video> -->\r\n\t\t\t<!-- <vi :url=\"url\" ></vi> -->\r\n\r\n\t\t</div>\r\n\t\t\r\n\r\n\t\t<div id=\"side_container\" >\r\n\t\t\t<h2 >{{moviename}}</h2>\r\n\t\t\t<h3 style=\"margin: 8px;\" >选集播放</h3>\r\n\t\t\t<div v-if=\"datalist !=null\" id=\"select\" >\r\n\t\t\t\t<div  v-for=\"(item,index) in datalist\">\r\n\t\t\t\t<!-- <router-link :to=\"{name:'play',params: {movie_name:moviename.name,url: item}}\" > -->\r\n\t\t\t\t\t\t<el-button  v-if=\"tag!=index\"  @click=\"select(index)\"  style=\" width: 100px;margin: 5px;\">第{{index+1}}集</el-button>\r\n\t\t\t\t\t\t<el-button  v-if=\"tag==index\" type=\"primary\" @click=\"select(index)\"  style=\" width: 100px;margin: 5px;\">第{{index+1}}集</el-button>\r\n\t\t\t\t<!-- </router-link> -->\r\n\t\t\t\t</div>\r\n\t\t\t</div> \r\n\t\t\t\r\n\t\t\t\r\n\t\t</div>\r\n\r\n\t\r\n\t</div>\r\n\t<div>\r\n\t<mv></mv>\r\n\t</div>\r\n\t\r\n\t</div>\r\n\t<!-- <el-button type=\"primary\" @click=\"getVideo()\">播放</el-button> -->\r\n\t  <!-- <el-button  round @click=\"start()\">播放</el-button> -->\r\n\t<!-- class=\"video-js vjs-default-skin vjs-big-play-centered\" -->\r\n\t<!-- class=\"vjs-default-skin\" -->\n</template>\n<style>\r\n\r\n\t#side_container{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction:column;\r\n\t\twidth:calc(100% - 792px);\r\n\t\theight: 460px;\r\n\t\ttext-align: left;\r\n\t\tborder: 4px white solid;\r\n\t\toverflow-y:auto;\r\n\t}\r\n\t#player{\r\n\t\twidth: 792px;\r\n\t\t\r\n\t\theight: 460px;\r\n\t\t\r\n\t}\r\n\t#player_container{\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t}\r\n</style>\n<script>\r\n\trequire('video.js/dist/video-js.css')\r\n\timport global from '@/global'\r\n\timport axios from \"axios\"\r\n\timport videojs from \"video.js\";\r\n\timport \"videojs-contrib-hls\";\r\n\timport lunbo_movie from '@/views/lunbo_movie.vue'\r\n\timport 'xgplayer';\r\n\timport hlsjsPlayer from 'xgplayer-hls.js'\r\n\t// import '/xgplayer/src/skin/index.js';\r\n\texport default{\r\n\t\tbeforeCreate(){\r\n\t\t\tconsole.log(this.$route.params.vod_id)\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\tmv:lunbo_movie\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tvar vod_id = this.$route.params.vod_id\r\n\t\t\tvar flag = this.$route.params.index\r\n\t\t\tthis.tag = this.$route.params.index\r\n\t\t\tconsole.log(this.tag)\r\n\t\t\t// var url = this.$route.params.url\r\n\t\t\t// this.moviename=this.$route.params.movie_name\r\n\t\t\t// console.log( typeof(this.$route.params.url) )\r\n\r\n\t\t\taxios({\r\n\t\t\t\t//url: `https://m.maizuo.com/gateway?filmId=${this.$route.params.id}&k=5501344`,\r\n\t\t\t\t//url:'http://localhost:3000/get_url',\r\n\t\t\t\turl:global.base_url+'get_url',\r\n\t\t\t\tparams:{\r\n\t\t\t\t\tvod_id:vod_id,\r\n\t\t\t\t}\r\n\t\t\t}).then((res) => {\r\n\t\t\t\tconsole.log(res.data)\r\n\t\t\t\tthis.moviename = res.data.move_name\r\n\t\t\t\tthis.datalist=res.data.url\r\n\t\t\t\tthis.url=res.data.url[flag]\r\n\t\t\t\tif(this.play==null){\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\tthis.getVideo()\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\r\n\t\t},\r\n\t\tname:'Player',\r\n\t\tdata(){\r\n\t\treturn {\r\n\t\t\t\tspeed:1,\r\n\t\t\t\t//url:'https://v6.dious.cc/20220428/AvHwnFK7/index.m3u8',\r\n\t\t\t\t//url:'https://m3.taopianplay1.com:43333/taopian/54fdb532-e89b-4567-bc07-aa93a0c6a79b/a891bf2e-a823-4ae0-ac07-107cdf1703d8/75490/2c7dc32b-6cc4-4bca-8ce7-80eb077ef6e3/SD/playlist.m3u8',\r\n\t\t\t\t//url:'https://v7.dious.cc/20220816/IShATbpk/index.m3u8',\r\n\t\t\t\t//url:' https://playtv-live.ifeng.com/live/06OLEGEGM4G.m3u8',\r\n\t\t\t\t//url:'https://s5.fsvod1.com/20220428/kfhEcrR1/index.m3u8',\r\n\t\t\t\turl:'',\r\n\t\t\t\tplayer:null,\r\n\t\t\t\tdatalist:null,\r\n\t\t\t\tmoviename:\"\",\r\n\t\t\t\ttag:''\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t  msg: String\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tgetVideo(){\r\n\t\t\t\tvar that = this\r\n\t\t\t\tthis.player=new hlsjsPlayer({\n\t\t\t\t  id:'mse',\n\t\t\t\t  url: that.url,\r\n\n\t\t\t\t  width:\"790px\",\r\n\t\t\t\t  height:\"460px\",\r\n\t\t\t\t  videoInit: true,\r\n\t\t\t\t  playsinline: true,\r\n\t\t\t\t  playbackRate: [0.5, 1, 1.5, 2,3] //传入倍速可选数组\n\t\t\t\t});\r\n\t\t\t},\r\n\t// \t\tgetVideo() {\r\n\t// \t\t\tvar that = this\r\n\t// \t\t   this.player=videojs(\r\n\t// \t\t\t   \"my-video\",\r\n\t// \t\t\t   {\r\n\t// \t\t\t\t   hls: true,\r\n\t// \t\t\t\t   aspectRatio: '16:9', // 将播放器置于流畅模式，并在计算播放器的动态大小时使用该值。值应该代表一个比例 - 用冒号分隔的两个数字（例如\"16:9\"或\"4:3\"）\r\n\t// \t\t\t\t   fluid: true, \r\n\t// \t\t\t\t   preload: 'auto',\r\n\t// \t\t\t\t   bigPlayButton: true,\r\n\t// \t\t\t\t   textTrackDisplay: false,\r\n\t// \t\t\t\t   posterImage: true,\r\n\t// \t\t\t\t   errorDisplay: false,\r\n\t// \t\t\t\t   language: 'zh-CN',\r\n\t// \t\t\t\t   notSupportedMessage: '此视频暂无法播放，请稍后再试',\r\n\t// \t\t\t\t   controlBar:true,\r\n\t// \t\t\t\t   sources:[ // 视频源\r\n\t// \t\t\t\t         {\r\n\t// \t\t\t\t             src: that.url,\r\n\t// \t\t\t\t         }\r\n\t// \t\t\t\t     ]\r\n\r\n\t// \t\t\t   },\r\n\t\t\t\t   \r\n\t// \t\t   );\r\n\t\r\n\t// \t\t\t},\r\n\t\t\t\tselect(index){\r\n\t\t\t\t\tconsole.log(index)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// this.player.src({src:this.datalist[index] , type: \"application/x-mpegURL\"});\r\n\t\t\t\t\tthis.player.src=this.datalist[index]\r\n\t\t\t\t\tthis.player.play()\r\n\t\t\t\t\tthis.tag=index\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// start(){\r\n\t\t\t\t// \tthis.player.play()\r\n\t\t\t\t// },\r\n\r\n\t\t},\r\n\t\tbeforeDestroy() {\r\n\t\t      if (this.player != null) {\r\n\t\t       // this.player.dispose() // dispose()会直接删除Dom元素\r\n\t\t\t   this.player.destroy()\r\n\t\t      }\r\n\t\t    }\r\n\r\n\t\r\n\t}\n</script>\n\n\n"],"sourceRoot":"src/views"}]}